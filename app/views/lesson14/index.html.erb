<h1>Lesson14 19/11/2015</h1>

<h3>AngularJS Input Validation</h3>

<ul>AngularJS <b>forms</b> and <b>controls</b> can <b>validate</b> input data.</ul>
<ul>The HTML form attribute <b>novalidate</b> is used to disable default browser validation</ul>

<table style="border: solid orange 1px;">
  <tr>
    <th>Property</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>$dirty</td>
    <td>user has <b>interacted</b> with the field</td>
  </tr>
  <tr>
    <td>$pristine</td>
    <td>User has not <b>interacted</b> with the field yet.</td>
  </tr>
  <tr>
    <td>$valid</td>
    <td>field content is <b>valid</b></td>
  </tr>
  <tr>
    <td>$invalid</td>
    <td>field content is <b>invalid</b></td>
  </tr>
</table>

<h2>Validation Example</h2>

<form ng-app="myApp" ng-controller="validateCtrl" name="myForm" novalidate>

  <p>Username:<br>
    <input type="text" name="user" ng-model="user_name" required>
    <span style="color:red" ng-show="(myForm.user.$dirty && myForm.user.$invalid)
      || (myForm.user.$pristine && myForm.user.$invalid)">
      <span ng-show="myForm.user.$error.required">Username is required.</span>
    </span>
  </p>

  <p>Email:<br>
    <input type="email" name="email" ng-model="email_address" required>
    <span style="color:red" ng-show="(myForm.email.$dirty && myForm.email.$invalid)
      || (myForm.user.$pristine && myForm.user.$invalid)">
      <span ng-show="myForm.email.$error.required">Email is required.</span>
      <span ng-show="myForm.email.$error.email">Invalid email address.</span>
    </span>
  </p>

  <p>
    <button ng-click="reset()" ng-disabled="(myForm.user.$dirty && myForm.user.$invalid)
      || (myForm.email.$dirty && myForm.email.$invalid)">Reset</button>
  </p>

</form>

<a href="/lesson13">Lesson 13</a>

<script type="text/javascript">
  var app = angular.module("myApp", []);
  app.controller("validateCtrl", function($scope) {
    $scope.user_name = "John Doe";
    $scope.email_address = "john.doe@gmail.com";

    $scope.reset = function() {
      $scope.user_name = null;
      $scope.email_address = null;
    }
  });
</script>
